{"version":3,"sources":["webpack:///vue-signature-img.js","webpack:///webpack/bootstrap e3f0b6c92ce53c517315","webpack:///src/components/vueSignature.vue","webpack:///./index.js","webpack:///./src/components/vueSignature.vue","webpack:///./src/components/vueSignature.vue?e8f5","webpack:///./src/components/vueSignature.vue?5458","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/vue-style-loader/lib/addStylesClient.js","webpack:///./node_modules/vue-style-loader/lib/listToStyles.js","webpack:///./node_modules/vue-loader/lib/component-normalizer.js","webpack:///./node_modules/babel-runtime/regenerator/index.js","webpack:///./node_modules/regenerator-runtime/runtime-module.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./src/utils/signature_pad.js","webpack:///./src/utils/utils.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_1__utils_signature_pad_js__","__WEBPACK_IMPORTED_MODULE_2__utils_utils_js__","_extends","assign","target","length","source","props","customStyle","type","default","img","String","brushWidth","Number","options","data","computed","brushOptions","minDistance","dotSize","item","ratioWidth","watch","updateOptions","nextOptions","handler","keys","deep","destoryBoard","mounted","resizeHandler","bind","initBoard","methods","setBoardSize","signature","boardScale","canvasBox","$refs","signaturePadCanvas","getBoundingClientRect","canvasSize","w","width","ratioHeight","h","height","getContext","restore","save","window","removeEventListener","clearBoard","clear","switchToEraser","on","_ctx","globalCompositeOperation","off","toDataUrl","outPutCanvas","drawImage","bgImg","scale","forEach","toData","formData","render","createElement","vueSignature","install","Vue","component","injectStyle","ssrContext","normalizeComponent","__vue_styles__","Component","content","locals","push","cssWithMappingToString","useSourceMap","cssMapping","btoa","sourceMapping","toComment","concat","sources","map","sourceRoot","join","sourceMap","unescape","encodeURIComponent","JSON","stringify","list","toString","mediaQuery","alreadyImportedModules","id","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","createStyleElement","styleElement","document","head","appendChild","obj","update","remove","querySelector","ssrIdKey","isProduction","noop","parentNode","removeChild","isOldIE","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","applyToTag","newObj","css","media","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","ssrId","firstChild","hasDocument","DEBUG","Error","listToStyles","getElementsByTagName","navigator","test","userAgent","toLowerCase","parentId","_isProduction","_options","newList","mayRemove","textStore","replacement","filter","Boolean","newStyles","part","rawScriptExports","compiledTemplate","functionalTemplate","injectStyles","scopeId","moduleIdentifier","esModule","scriptExports","staticRenderFns","_compiled","functional","_scopeId","hook","context","$vnode","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","existing","beforeCreate","_injectStyles","g","Function","hadRuntime","regeneratorRuntime","getOwnPropertyNames","indexOf","oldRuntime","undefined","e","global","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","Context","_invoke","makeInvokeMethod","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","method","AsyncIterator","invoke","record","result","hasOwn","__await","unwrapped","enqueue","callInvokeWithMethodAndArg","previousPromise","state","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","GenStateSuspendedYield","iterator","return","TypeError","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","values","iterable","iteratorMethod","iteratorSymbol","isNaN","Op","$Symbol","Symbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","runtime","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_classCallCheck","instance","Constructor","throttle","wait","previous","timeout","storedContext","storedArgs","later","Date","now","remaining","args","clearTimeout","setTimeout","_createClass","defineProperties","descriptor","writable","protoProps","staticProps","Point","x","y","time","start","Math","sqrt","pow","other","distanceTo","Bezier","startPoint","control2","control1","endPoint","startWidth","endWidth","px","py","t","cx","point","cy","xdiff","ydiff","c1","c2","end","points","widths","calculateControlPoints","c3","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","dxm","dym","k","cm","tx","ty","SignaturePad","canvas","_handleMouseDown","event","which","_pointerId","pointerId","_strokeBegin","_handleMouseMove","_lastTouch","clientX","clientY","_strokeMoveUpdate","_handleMouseUp","_strokeEnd","_handleTouchStart","preventDefault","targetTouches","_touchStarted","touch","changedTouches","_handleTouchMove","_handleTouchEnd","velocityFilterWeight","minWidth","maxWidth","penColor","backgroundColor","onBegin","onEnd","_strokeUpdate","lightLimit","touchsStrategy","includes","ctx","fillStyle","clearRect","fillRect","_data","_reset","_isEmpty","dataUrl","callback","image","Image","ratio","devicePixelRatio","onload","onerror","src","encoderOptions","_toSVG","toDataURL","style","touchAction","msTouchAction","PointerEvent","_handlePointerEvents","_handleMouseEvents","_handleTouchEvents","pointGroups","_fromData","color","curve","_drawCurve","_drawDot","newPointGroup","isEnd","pressure","force","_createPoint","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","_addPoint","_mouseButtonDown","addEventListener","_lastPoints","_lastVelocity","_lastWidth","rect","left","top","getTime","unshift","_calculateCurveWidths","fromPoints","shift","param","velocityFrom","newWidth","_strokeWidth","max","moveTo","arc","PI","_ref3","widthDelta","drawSteps","ceil","beginPath","tt","ttt","u","uu","uuu","min","_drawCurveSegment","closePath","fill","_ref4","drawCurve","drawDot","group","basicPoint","maxX","maxY","svg","createElementNS","path","attr","toFixed","circle","header","body","innerHTML","dummy","nodes","cloneNode","cloneCanvas","oldCanvas","newCanvas","naturalDimensions","brushOption","imgDom","nWidth","nHeight","naturalWidth","naturalHeight","isLoaded","getImgNaturalDimensions","timer","readyState","1","2","3","4","5","6","7","8","9"],"mappings":"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","file":"vue-signature-img.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_signature_pad_js__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_utils_js__ = __webpack_require__(13);\n\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"vueSignature\",\n  props: {\n    customStyle: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    img: {\n      type: String,\n      default: \"\"\n    },\n    brushWidth: {\n      type: Number,\n      default: 3\n    },\n    options: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      signaturePad: {},\n      onResizeHandler: null,\n      ratioWidth: 1,\n      ratioHeight: 1,\n      canvasSize: {}\n    };\n  },\n  computed: {\n    brushOptions: function brushOptions() {\n      var options = _extends({}, __WEBPACK_IMPORTED_MODULE_2__utils_utils_js__[\"a\" /* brushOption */][this.brushWidth], { //笔刷宽度范围\n        minDistance: 5, //两点间最小距离  影响起笔笔锋  线条顺滑\n        dotSize: 0.1 //起点大小  影响起笔笔锋\n      });\n      for (var item in options) {\n        options[item] = options[item] / this.ratioWidth;\n      }\n      return options;\n    }\n  },\n  watch: {\n    brushOptions: function brushOptions(nextOptions) {\n      this.updateOptions(nextOptions);\n    },\n\n    options: {\n      handler: function handler(nextOptions) {\n        var _this = this;\n\n        var options = {};\n        Object.keys(nextOptions).filter(function (key) {\n          return ![\"minWidth\", \"maxWidth\", \"minDistance\", \"dotSize\", \"brushMode\", \"brushWidth\"].includes(key);\n        }).forEach(function (option) {\n          if (_this.signature[option]) {\n            options[option] = nextOptions[option];\n          }\n        });\n        this.updateOptions(options);\n      },\n\n      deep: true\n    },\n    img: function img(_img) {\n      this.destoryBoard();\n      _img && this.initBoard();\n    }\n  },\n  mounted: function mounted() {\n    this.resizeHandler = this.resizeHandler.bind(this);\n    this.initBoard();\n  },\n\n  methods: {\n    initBoard: function initBoard() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return __WEBPACK_IMPORTED_MODULE_2__utils_utils_js__[\"c\" /* naturalDimensions */].handle(_this2.$refs.bgImg);\n\n              case 2:\n                _this2.canvasSize = _context.sent;\n\n\n                _this2.$refs.signaturePadCanvas.width = _this2.canvasSize.w;\n                _this2.$refs.signaturePadCanvas.height = _this2.canvasSize.h;\n                _this2.setBoardSize();\n\n                _this2.signature = new __WEBPACK_IMPORTED_MODULE_1__utils_signature_pad_js__[\"a\" /* default */](_this2.$refs.signaturePadCanvas, _extends({}, _this2.options, _this2.brushOptions, {\n                  boardScale: _this2.ratioWidth\n                }));\n                window.addEventListener(\"resize\", _this2.resizeHandler);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2);\n      }))();\n    },\n    resizeHandler: function resizeHandler() {\n      this.setBoardSize();\n      this.signature.boardScale = this.ratioWidth;\n    },\n\n    // 设置画板尺寸和图片原始尺寸一致(不同尺寸屏幕下画板尺寸始终一致)\n    setBoardSize: function setBoardSize() {\n      var canvasBox = this.$refs.signaturePadCanvas.getBoundingClientRect(); //获取canvas元素的边界框\n      this.ratioWidth = this.canvasSize.w / canvasBox.width;\n      this.ratioHeight = this.canvasSize.h / canvasBox.height;\n      //恢复默认缩放比例\n      this.$refs.signaturePadCanvas.getContext(\"2d\").restore();\n      this.$refs.signaturePadCanvas.getContext(\"2d\").save();\n      //设缩放比例\n      this.$refs.signaturePadCanvas.getContext(\"2d\").scale(this.ratioWidth, this.ratioHeight);\n    },\n    destoryBoard: function destoryBoard() {\n      window.removeEventListener(\"resize\", this.resizeHandler, false);\n    },\n    clearBoard: function clearBoard() {\n      this.signature.clear();\n    },\n    switchToEraser: function switchToEraser() {\n      this.signature.switchToEraser();\n    },\n    on: function on() {\n      debugger;\n      this.signature._ctx.globalCompositeOperation = \"source-over\";\n      this.updateOptions(this.brushOptions);\n      this.signature.on();\n    },\n    off: function off() {\n      this.signature._ctx.globalCompositeOperation = \"source-over\";\n      this.updateOptions(this.brushOptions);\n      this.signature.off();\n    },\n    toDataUrl: function toDataUrl() {\n      var outPutCanvas = Object(__WEBPACK_IMPORTED_MODULE_2__utils_utils_js__[\"b\" /* cloneCanvas */])(this.$refs.signaturePadCanvas);\n      outPutCanvas.getContext(\"2d\").globalCompositeOperation = \"destination-over\";\n      outPutCanvas.getContext(\"2d\").drawImage(this.$refs.bgImg, 0, 0);\n      outPutCanvas.getContext(\"2d\").scale(this.ratioWidth, this.ratioHeight);\n      var imageStr = outPutCanvas.toDataURL();\n\n      return imageStr;\n    },\n    updateOptions: function updateOptions(options) {\n      var _this3 = this;\n\n      Object.keys(options).forEach(function (option) {\n        if (_this3.signature[option]) {\n          _this3.signature[option] = options[option];\n        }\n      });\n    },\n    toData: function toData() {\n      return this.signature.toData();\n    },\n    formData: function formData(data) {\n      return this.signature.fromData(data);\n    }\n  },\n  render: function render(createElement) {\n    var customStyle = this.customStyle;\n\n    return createElement(\"div\", {\n      style: _extends({}, customStyle),\n      attr: {\n        class: 'signature-board'\n      }\n    }, [createElement(\"canvas\", {\n      style: {\n        width: \"100%\",\n        height: \"100%\"\n      },\n      ref: \"signaturePadCanvas\"\n    }), createElement(\"img\", {\n      style: {\n        width: \"100%\",\n        display: \"block\",\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        zIndex: -1\n      },\n      attrs: {\n        src: this.img,\n        id: \"bg-img\"\n      },\n      ref: \"bgImg\"\n    })]);\n  }\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_components_vueSignature_vue__ = __webpack_require__(2);\n// sumFunction 插件对应组件的名字\n\n\n// Vue.js 的插件应当有一个公开方法 install 。第一个参数是 Vue 构造器，第二个参数是一个可选的选项对象\n// 参考：https://cn.vuejs.org/v2/guide/plugins.html#%E5%BC%80%E5%8F%91%E6%8F%92%E4%BB%B6\n// 此处注意，组件需要添加name属性，代表注册的组件名称，也可以修改成其他的\n\n__WEBPACK_IMPORTED_MODULE_0__src_components_vueSignature_vue__[\"a\" /* default */].install = function (Vue) {\n  return Vue.component(__WEBPACK_IMPORTED_MODULE_0__src_components_vueSignature_vue__[\"a\" /* default */].name, __WEBPACK_IMPORTED_MODULE_0__src_components_vueSignature_vue__[\"a\" /* default */]);\n}; //注册组件\n// 标签的方式引入，留到后面再另开新篇讨论\nvar install = function install(Vue) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  Vue.component(__WEBPACK_IMPORTED_MODULE_0__src_components_vueSignature_vue__[\"a\" /* default */].name, __WEBPACK_IMPORTED_MODULE_0__src_components_vueSignature_vue__[\"a\" /* default */]);\n};\n/* 支持使用标签的方式引入 Vue是全局变量时，自动install */\nif (typeof window !== 'undefined' && window.Vue) {\n  install(window.Vue);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0__src_components_vueSignature_vue__[\"a\" /* default */]);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_vueSignature_vue__ = __webpack_require__(0);\n/* unused harmony namespace reexport */\nfunction injectStyle (ssrContext) {\n  __webpack_require__(3)\n}\nvar normalizeComponent = __webpack_require__(8)\n/* script */\n\n\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a820cda\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_vueSignature_vue__[\"a\" /* default */],\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(4);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(6)(\"f6f1b23e\", content, true, {});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".signature-board[data-v-7a820cda]{position:relative;top:0;left:0;width:100vw;height:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = __webpack_require__(7)\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(10);\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = __webpack_require__(11);\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Signature Pad v3.0.0-beta.4 | https://github.com/szimek/signature_pad\n * (c) 2020 Szymon Nowak | Released under the MIT license\n */\n\nvar Point = function () {\n  function Point(x, y, time) {\n    _classCallCheck(this, Point);\n\n    this.x = x;\n    this.y = y;\n    this.time = time || Date.now();\n  }\n\n  _createClass(Point, [{\n    key: 'distanceTo',\n    value: function distanceTo(start) {\n      return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n    }\n  }, {\n    key: 'equals',\n    value: function equals(other) {\n      return this.x === other.x && this.y === other.y && this.time === other.time;\n    }\n  }, {\n    key: 'velocityFrom',\n    value: function velocityFrom(start) {\n      return this.time !== start.time ? this.distanceTo(start) / (this.time - start.time) : 0;\n    }\n  }]);\n\n  return Point;\n}();\n\nvar Bezier = function () {\n  function Bezier(startPoint, control2, control1, endPoint, startWidth, endWidth) {\n    _classCallCheck(this, Bezier);\n\n    this.startPoint = startPoint;\n    this.control2 = control2;\n    this.control1 = control1;\n    this.endPoint = endPoint;\n    this.startWidth = startWidth;\n    this.endWidth = endWidth;\n  }\n\n  _createClass(Bezier, [{\n    key: 'length',\n    value: function length() {\n      var steps = 10;\n      var length = 0;\n      var px = void 0;\n      var py = void 0;\n      for (var i = 0; i <= steps; i += 1) {\n        var t = i / steps;\n        var cx = this.point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n        var cy = this.point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n        if (i > 0) {\n          var xdiff = cx - px;\n          var ydiff = cy - py;\n          length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n        }\n        px = cx;\n        py = cy;\n      }\n      return length;\n    }\n  }, {\n    key: 'point',\n    value: function point(t, start, c1, c2, end) {\n      return start * (1.0 - t) * (1.0 - t) * (1.0 - t) + 3.0 * c1 * (1.0 - t) * (1.0 - t) * t + 3.0 * c2 * (1.0 - t) * t * t + end * t * t * t;\n    }\n  }], [{\n    key: 'fromPoints',\n    value: function fromPoints(points, widths) {\n      var c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n      var c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n      return new Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n    }\n  }, {\n    key: 'calculateControlPoints',\n    value: function calculateControlPoints(s1, s2, s3) {\n      var dx1 = s1.x - s2.x;\n      var dy1 = s1.y - s2.y;\n      var dx2 = s2.x - s3.x;\n      var dy2 = s2.y - s3.y;\n      var m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n      var m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n      var l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n      var l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n      var dxm = m1.x - m2.x;\n      var dym = m1.y - m2.y;\n      var k = l2 / (l1 + l2);\n      var cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n      var tx = s2.x - cm.x;\n      var ty = s2.y - cm.y;\n      return {\n        c1: new Point(m1.x + tx, m1.y + ty),\n        c2: new Point(m2.x + tx, m2.y + ty)\n      };\n    }\n  }]);\n\n  return Bezier;\n}();\n\nfunction throttle(fn) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n\n  var previous = 0;\n  var timeout = null;\n  var result = void 0;\n  var storedContext = void 0;\n  var storedArgs = void 0;\n  var later = function later() {\n    previous = Date.now();\n    timeout = null;\n    result = fn.apply(storedContext, storedArgs);\n    if (!timeout) {\n      storedContext = null;\n      storedArgs = [];\n    }\n  };\n  return function wrapper() {\n    var now = Date.now();\n    var remaining = wait - (now - previous);\n    storedContext = this;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    storedArgs = args;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = fn.apply(storedContext, storedArgs);\n      if (!timeout) {\n        storedContext = null;\n        storedArgs = [];\n      }\n    } else if (!timeout) {\n      timeout = window.setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n\nvar SignaturePad = function () {\n  function SignaturePad(canvas) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, SignaturePad);\n\n    this.canvas = canvas;\n    this.options = options;\n    this._handleMouseDown = function (event) {\n      console.log('_handleMouseDown', event);\n\n      if (event.which === 1 || !_this._pointerId) {\n        _this._pointerId = event.pointerId || 1;\n\n        _this._strokeBegin(event);\n      }\n    };\n    this._handleMouseMove = function (event) {\n      console.log('_handleMouseMove', event);\n      event.pointerId == event.pointerId || 1;\n      if (_this._pointerId == event.pointerId) {\n        _this._lastTouch = { x: event.clientX, y: event.clientY };\n        _this._strokeMoveUpdate(event);\n      }\n    };\n    this._handleMouseUp = function (event) {\n      console.log('_handleMouseUp', event);\n      event.pointerId == event.pointerId || 1;\n      if (event.which === 1 && _this._pointerId == event.pointerId) {\n        if (_this._lastTouch.x == event.clientX && _this._lastTouch.y == event.clientY) {\n          _this._pointerId = null;\n          _this._strokeEnd(event);\n        }\n      }\n    };\n    this._handleTouchStart = function (event) {\n\n      event.preventDefault();\n      if (event.targetTouches.length === 1) {\n        _this._touchStarted = true;\n        var touch = event.changedTouches[0];\n        _this._lastTouch = { x: touch.clientX, y: touch.clientY };\n        _this._strokeBegin(touch);\n      }\n      console.log('---_handleTouchStart--', event, _this._lastTouch);\n    };\n    this._handleTouchMove = function (event) {\n      // console.log('---_handleTouchMove--',event)\n      event.preventDefault();\n      if (_this._touchStarted) {\n        var touch = event.targetTouches[0];\n        _this._lastTouch = { x: touch.clientX, y: touch.clientY };\n\n        _this._strokeMoveUpdate(touch);\n      }\n    };\n    this._handleTouchEnd = function (event) {\n      // console.log('---_handleTouchEnd--', event)\n      var wasCanvasTouched = event.target === _this.canvas;\n      if (wasCanvasTouched) {\n        if (_this._touchStarted) {\n          event.preventDefault();\n          var touch = event.changedTouches[0];\n          console.log('---_handleTouchEnd--', touch, _this._lastTouch);\n          if (_this._lastTouch.x == touch.clientX && _this._lastTouch.y == touch.clientY) {\n            _this._strokeEnd(touch);\n            _this._touchStarted = false;\n          }\n        }\n      }\n    };\n    this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n    this.minWidth = options.minWidth || 0.5;\n    this.maxWidth = options.maxWidth || 2.5;\n    this.throttle = 'throttle' in options ? options.throttle : 16;\n    this.minDistance = options.minDistance || 5;\n    this.dotSize = options.dotSize || function dotSize() {\n      return (this.minWidth + this.maxWidth) / 2;\n    };\n    this.penColor = options.penColor || 'black';\n    this.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n    this.onBegin = options.onBegin;\n    this.onEnd = options.onEnd;\n    this._strokeMoveUpdate = this.throttle > 0 ? throttle(SignaturePad.prototype._strokeUpdate, this.throttle) : SignaturePad.prototype._strokeUpdate, this.throttle;\n    this.lightLimit = options.lightLimit || 0.4;\n    this.touchsStrategy = ['pressure', 'mix'].includes(options.touchsStrategy) && ('ontouchstart' in window || 'PointerEvent' in window) ? options.touchsStrategy : 'speed';\n\n    this.boardScale = options.boardScale > 1.5 ? options.boardScale : 1.5;\n\n    this._ctx = canvas.getContext('2d');\n    this.clear();\n    this.on();\n  }\n\n  _createClass(SignaturePad, [{\n    key: 'clear',\n    value: function clear() {\n      var ctx = this._ctx,\n          canvas = this.canvas;\n\n      ctx.fillStyle = this.backgroundColor;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      this._data = [];\n      this._reset();\n      this._isEmpty = true;\n    }\n  }, {\n    key: 'fromDataURL',\n    value: function fromDataURL(dataUrl) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var callback = arguments[2];\n\n      var image = new Image();\n      var ratio = options.ratio || window.devicePixelRatio || 1;\n      var width = options.width || this.canvas.width / ratio;\n      var height = options.height || this.canvas.height / ratio;\n      this._reset();\n      image.onload = function () {\n        _this2._ctx.drawImage(image, 0, 0, width, height);\n        if (callback) {\n          callback();\n        }\n      };\n      image.onerror = function (error) {\n        if (callback) {\n          callback(error);\n        }\n      };\n      image.src = dataUrl;\n      this._isEmpty = false;\n    }\n  }, {\n    key: 'toDataURL',\n    value: function toDataURL() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'image/png';\n      var encoderOptions = arguments[1];\n\n      switch (type) {\n        case 'image/svg+xml':\n          return this._toSVG();\n        default:\n          return this.canvas.toDataURL(type, encoderOptions);\n      }\n    }\n  }, {\n    key: 'on',\n    value: function on() {\n      this.canvas.style.touchAction = 'none';\n      this.canvas.style.msTouchAction = 'none';\n      this._ctx.globalCompositeOperation = \"source-over\";\n      debugger;\n      if (window.PointerEvent) {\n        this._handlePointerEvents();\n      } else {\n        this._handleMouseEvents();\n        if ('ontouchstart' in window) {\n          this._handleTouchEvents();\n        }\n      }\n    }\n  }, {\n    key: 'off',\n    value: function off() {\n      this._ctx.globalCompositeOperation = \"source-over\";\n      this.canvas.style.touchAction = 'auto';\n      this.canvas.style.msTouchAction = 'auto';\n      this.canvas.removeEventListener('pointerdown', this._handleMouseDown);\n      this.canvas.removeEventListener('pointermove', this._handleMouseMove);\n      document.removeEventListener('pointerup', this._handleMouseUp);\n      this.canvas.removeEventListener('mousedown', this._handleMouseDown);\n      this.canvas.removeEventListener('mousemove', this._handleMouseMove);\n      document.removeEventListener('mouseup', this._handleMouseUp);\n      this.canvas.removeEventListener('touchstart', this._handleTouchStart);\n      this.canvas.removeEventListener('touchmove', this._handleTouchMove);\n      this.canvas.removeEventListener('touchend', this._handleTouchEnd);\n    }\n  }, {\n    key: 'isEmpty',\n    value: function isEmpty() {\n      return this._isEmpty;\n    }\n  }, {\n    key: 'fromData',\n    value: function fromData(pointGroups) {\n      var _this3 = this;\n\n      this.clear();\n      this._fromData(pointGroups, function (_ref) {\n        var color = _ref.color,\n            curve = _ref.curve;\n        return _this3._drawCurve({ color: color, curve: curve });\n      }, function (_ref2) {\n        var color = _ref2.color,\n            point = _ref2.point;\n        return _this3._drawDot({ color: color, point: point });\n      });\n      this._data = pointGroups;\n      this._isEmpty = false;\n    }\n  }, {\n    key: 'toData',\n    value: function toData() {\n      return this._data;\n    }\n  }, {\n    key: 'switchToEraser',\n    value: function switchToEraser() {\n      this._ctx.globalCompositeOperation = \"destination-out\";\n      this.minWidth = 10;\n      this.maxWidth = 10;\n    }\n  }, {\n    key: '_strokeBegin',\n    value: function _strokeBegin(event) {\n      var newPointGroup = {\n        color: this.penColor,\n        points: []\n      };\n      if (typeof this.onBegin === 'function') {\n        this.onBegin(event);\n      }\n      this._data.push(newPointGroup);\n      this._reset();\n      this._strokeUpdate(event);\n      this._isEmpty = false;\n    }\n  }, {\n    key: '_strokeUpdate',\n    value: function _strokeUpdate(event) {\n      var isEnd = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      // console.log('--_strokeUpdate---',this._data, event)\n\n      if (this._data.length === 0) {\n        this._strokeBegin(event);\n        return;\n      }\n      var x = event.clientX;\n      var y = event.clientY;\n      var pressure = event.pressure || event.force;\n      var point = this._createPoint(x, y);\n      var lastPointGroup = this._data[this._data.length - 1];\n      var lastPoints = lastPointGroup.points;\n      var lastPoint = lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n      var isLastPointTooClose = lastPoint ? point.distanceTo(lastPoint) <= this.minDistance : false;\n      var color = lastPointGroup.color;\n      if (!lastPoint || !(lastPoint && isLastPointTooClose) || isEnd) {\n        var curve = this._addPoint(point, pressure, isEnd);\n        if (!lastPoint) {\n          this._drawDot({ color: color, point: point });\n        } else if (curve) {\n          this._drawCurve({ color: color, curve: curve });\n        }\n        lastPoints.push({\n          time: point.time,\n          x: point.x,\n          y: point.y\n        });\n      }\n    }\n  }, {\n    key: '_strokeEnd',\n    value: function _strokeEnd(event) {\n\n      this._strokeUpdate(event, true);\n      if (typeof this.onEnd === 'function') {\n        this.onEnd(event);\n      }\n    }\n  }, {\n    key: '_handlePointerEvents',\n    value: function _handlePointerEvents() {\n      this._mouseButtonDown = false;\n      this.canvas.addEventListener('pointerdown', this._handleMouseDown);\n      this.canvas.addEventListener('pointermove', this._handleMouseMove);\n      document.addEventListener('pointerup', this._handleMouseUp);\n    }\n  }, {\n    key: '_handleMouseEvents',\n    value: function _handleMouseEvents() {\n      this._mouseButtonDown = false;\n      this.canvas.addEventListener('mousedown', this._handleMouseDown);\n      this.canvas.addEventListener('mousemove', this._handleMouseMove);\n      document.addEventListener('mouseup', this._handleMouseUp);\n    }\n  }, {\n    key: '_handleTouchEvents',\n    value: function _handleTouchEvents() {\n      this.canvas.addEventListener('touchstart', this._handleTouchStart);\n      this.canvas.addEventListener('touchmove', this._handleTouchMove);\n      this.canvas.addEventListener('touchend', this._handleTouchEnd);\n    }\n  }, {\n    key: '_reset',\n    value: function _reset() {\n      this._lastPoints = [];\n      this._lastVelocity = 0;\n      this._lastWidth = this.dotSize;\n      this._ctx.fillStyle = this.penColor;\n    }\n  }, {\n    key: '_createPoint',\n    value: function _createPoint(x, y) {\n      var rect = this.canvas.getBoundingClientRect();\n      return new Point(x - rect.left, y - rect.top, new Date().getTime());\n    }\n  }, {\n    key: '_addPoint',\n    value: function _addPoint(point, pressure) {\n      var isEnd = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var _lastPoints = this._lastPoints;\n\n      _lastPoints.push(point);\n      if (_lastPoints.length > 2) {\n        if (_lastPoints.length === 3) {\n          _lastPoints.unshift(_lastPoints[0]);\n        }\n        var widths = this._calculateCurveWidths(_lastPoints[1], _lastPoints[2], pressure, isEnd);\n        var curve = Bezier.fromPoints(_lastPoints, widths);\n        _lastPoints.shift();\n        return curve;\n      }\n      return null;\n    }\n  }, {\n    key: '_calculateCurveWidths',\n    value: function _calculateCurveWidths(startPoint, endPoint) {\n      var pressure = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var isEnd = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      var param = 1;\n      pressure = pressure === 0 ? this.lightLimit : pressure / 2;\n      if (this.touchsStrategy == 'pressure') {\n        pressure = pressure * pressure;\n        param = pressure;\n      } else if (this.touchsStrategy == 'speed') {\n        param = 1 / (this.velocityFilterWeight * endPoint.velocityFrom(startPoint) + (1 - this.velocityFilterWeight) * this._lastVelocity + 1);\n      } else {\n        pressure = pressure * pressure;\n        param = pressure / (this.velocityFilterWeight * endPoint.velocityFrom(startPoint) + (1 - this.velocityFilterWeight) * this._lastVelocity + 1);\n      }\n      var newWidth = isEnd && this._data[this._data.length - 1].points.length > 5 ? this.minWidth : this._strokeWidth(param);\n      var widths = {\n        end: newWidth,\n        start: this._lastWidth\n      };\n      this._lastVelocity = param;\n      this._lastWidth = newWidth;\n      return widths;\n    }\n  }, {\n    key: '_strokeWidth',\n    value: function _strokeWidth(param) {\n      return Math.max(this.maxWidth * param, this.minWidth);\n    }\n  }, {\n    key: '_drawCurveSegment',\n    value: function _drawCurveSegment(x, y, width) {\n      var ctx = this._ctx;\n      ctx.moveTo(x, y);\n      ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n    }\n  }, {\n    key: '_drawCurve',\n    value: function _drawCurve(_ref3) {\n      var color = _ref3.color,\n          curve = _ref3.curve;\n\n      var ctx = this._ctx;\n      var widthDelta = curve.endWidth - curve.startWidth;\n\n      var drawSteps = Math.ceil(curve.length() * this.boardScale * 5);\n      ctx.beginPath();\n      ctx.fillStyle = color;\n      for (var i = 0; i < drawSteps; i += 1) {\n        var t = i / drawSteps;\n        var tt = t * t;\n        var ttt = tt * t;\n        var u = 1 - t;\n        var uu = u * u;\n        var uuu = uu * u;\n        var x = uuu * curve.startPoint.x;\n        x += 3 * uu * t * curve.control1.x;\n        x += 3 * u * tt * curve.control2.x;\n        x += ttt * curve.endPoint.x;\n        var y = uuu * curve.startPoint.y;\n        y += 3 * uu * t * curve.control1.y;\n        y += 3 * u * tt * curve.control2.y;\n        y += ttt * curve.endPoint.y;\n        var width = Math.min(curve.startWidth + t * widthDelta, this.maxWidth);\n        this._drawCurveSegment(x, y, width);\n      }\n      ctx.closePath();\n      ctx.fill();\n    }\n  }, {\n    key: '_drawDot',\n    value: function _drawDot(_ref4) {\n      var color = _ref4.color,\n          point = _ref4.point;\n\n      var ctx = this._ctx;\n      var width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n      ctx.beginPath();\n      this._drawCurveSegment(point.x, point.y, width);\n      ctx.closePath();\n      ctx.fillStyle = color;\n      ctx.fill();\n    }\n  }, {\n    key: '_fromData',\n    value: function _fromData(pointGroups, drawCurve, drawDot) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = pointGroups[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var group = _step.value;\n          var color = group.color,\n              points = group.points;\n\n          if (points.length > 1) {\n            for (var j = 0; j < points.length; j += 1) {\n              var basicPoint = points[j];\n              var point = new Point(basicPoint.x, basicPoint.y, basicPoint.time);\n              this.penColor = color;\n              if (j === 0) {\n                this._reset();\n              }\n              var curve = this._addPoint(point);\n              if (curve) {\n                drawCurve({ color: color, curve: curve });\n              }\n            }\n          } else {\n            this._reset();\n            drawDot({\n              color: color,\n              point: points[0]\n            });\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: '_toSVG',\n    value: function _toSVG() {\n      var _this4 = this;\n\n      var pointGroups = this._data;\n      var ratio = Math.max(window.devicePixelRatio || 1, 1);\n      var minX = 0;\n      var minY = 0;\n      var maxX = this.canvas.width / ratio;\n      var maxY = this.canvas.height / ratio;\n      var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      svg.setAttribute('width', this.canvas.width.toString());\n      svg.setAttribute('height', this.canvas.height.toString());\n      this._fromData(pointGroups, function (_ref5) {\n        var color = _ref5.color,\n            curve = _ref5.curve;\n\n        var path = document.createElement('path');\n        if (!isNaN(curve.control1.x) && !isNaN(curve.control1.y) && !isNaN(curve.control2.x) && !isNaN(curve.control2.y)) {\n          var attr = 'M ' + curve.startPoint.x.toFixed(3) + ',' + curve.startPoint.y.toFixed(3) + ' ' + ('C ' + curve.control1.x.toFixed(3) + ',' + curve.control1.y.toFixed(3) + ' ') + (curve.control2.x.toFixed(3) + ',' + curve.control2.y.toFixed(3) + ' ') + (curve.endPoint.x.toFixed(3) + ',' + curve.endPoint.y.toFixed(3));\n          path.setAttribute('d', attr);\n          path.setAttribute('stroke-width', (curve.endWidth * 2.25).toFixed(3));\n          path.setAttribute('stroke', color);\n          path.setAttribute('fill', 'none');\n          path.setAttribute('stroke-linecap', 'round');\n          svg.appendChild(path);\n        }\n      }, function (_ref6) {\n        var color = _ref6.color,\n            point = _ref6.point;\n\n        var circle = document.createElement('circle');\n        var dotSize = typeof _this4.dotSize === 'function' ? _this4.dotSize() : _this4.dotSize;\n        circle.setAttribute('r', dotSize.toString());\n        circle.setAttribute('cx', point.x.toString());\n        circle.setAttribute('cy', point.y.toString());\n        circle.setAttribute('fill', color);\n        svg.appendChild(circle);\n      });\n      var prefix = 'data:image/svg+xml;base64,';\n      var header = '<svg' + ' xmlns=\"http://www.w3.org/2000/svg\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' + (' viewBox=\"' + minX + ' ' + minY + ' ' + maxX + ' ' + maxY + '\"') + (' width=\"' + maxX + '\"') + (' height=\"' + maxY + '\"') + '>';\n      var body = svg.innerHTML;\n      if (body === undefined) {\n        var dummy = document.createElement('dummy');\n        var nodes = svg.childNodes;\n        dummy.innerHTML = '';\n        for (var i = 0; i < nodes.length; i += 1) {\n          dummy.appendChild(nodes[i].cloneNode(true));\n        }\n        body = dummy.innerHTML;\n      }\n      var footer = '</svg>';\n      var data = header + body + footer;\n      return prefix + btoa(data);\n    }\n  }]);\n\n  return SignaturePad;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (SignaturePad);\n//# sourceMappingURL=signature_pad.js.map\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return naturalDimensions; });\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = cloneCanvas;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return brushOption; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// 获取图片原始尺寸\nvar naturalDimensions = function () {\n    function naturalDimensions() {\n        _classCallCheck(this, naturalDimensions);\n    }\n\n    _createClass(naturalDimensions, null, [{\n        key: 'getImgNaturalDimensions',\n        value: function getImgNaturalDimensions(imgDom) {\n            var nWidth, nHeight;\n            if (imgDom.naturalWidth) {\n                // 现代浏览器\n                nWidth = imgDom.naturalWidth;\n                nHeight = imgDom.naturalHeight;\n            } else {\n                // IE6/7/8\n                nWidth = imgDom.width;\n                nHeight = imgDom.height;\n            }\n            return { w: nWidth, h: nHeight };\n        }\n    }, {\n        key: 'handle',\n        value: function handle(imgDom) {\n            var _this = this;\n\n            return new Promise(function (resolve, reject) {\n                //图片已加载\n                if (_this.isLoaded(imgDom)) {\n                    resolve(_this.getImgNaturalDimensions(imgDom));\n                } else {\n                    //加载超时\n                    var timer = setTimeout(function () {\n                        imgDom.onload = null;\n                        reject('img load failed');\n                    }, 5000);\n                    imgDom.addEventListener('load', function () {\n                        clearTimeout(timer);\n                        //加载成功\n                        resolve(_this.getImgNaturalDimensions(imgDom));\n                    });\n                    imgDom.addEventListener('error', function () {\n                        clearTimeout(timer);\n                        console.error('load image  error:' + imgDom.src);\n                        //加载失败\n                        resolve({ w: 300, h: 400 });\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'isLoaded',\n        value: function isLoaded(imgDom) {\n            return imgDom.complete || imgDom.readyState == 'complete' || imgDom.readyState == 'loaded';\n        }\n    }]);\n\n    return naturalDimensions;\n}();\n\nfunction cloneCanvas(oldCanvas) {\n    //create a new canvas\n    var newCanvas = document.createElement('canvas');\n    var context = newCanvas.getContext('2d');\n    //set dimensions\n    newCanvas.width = oldCanvas.width;\n    newCanvas.height = oldCanvas.height;\n    //apply the old canvas to the new one\n    context.drawImage(oldCanvas, 0, 0);\n    //return the new canvas\n    return newCanvas;\n}\n// 笔刷配置\nvar brushOption = {\n    1: {\n        minWidth: 0.3,\n        maxWidth: 1.3\n    },\n    2: {\n        minWidth: 0.4,\n        maxWidth: 2\n    },\n    3: {\n        minWidth: 0.5,\n        maxWidth: 2.5\n    },\n    4: {\n        minWidth: 0.5,\n        maxWidth: 3\n    },\n    5: {\n        minWidth: 0.6,\n        maxWidth: 3.5\n    },\n    6: {\n        minWidth: 0.7,\n        maxWidth: 4\n    },\n    7: {\n        minWidth: 0.8,\n        maxWidth: 5\n    },\n    8: {\n        minWidth: 0.9,\n        maxWidth: 8\n    },\n    9: {\n        minWidth: 0.9,\n        maxWidth: 10\n    }\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// vue-signature-img.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e3f0b6c92ce53c517315","\n\n<script>\nimport SignaturePad from \"../utils/signature_pad.js\";\nimport { naturalDimensions, brushOption, cloneCanvas } from \"../utils/utils.js\";\n\nexport default {\n  name: \"vueSignature\",\n  props: {\n    customStyle: {\n      type: Object,\n      default: () => ({}),\n    },\n    img: {\n      type: String,\n      default: \"\",\n    },\n    brushWidth: {\n      type: Number,\n      default: 3,\n    },\n    options: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  data: () => ({\n    signaturePad: {},\n    onResizeHandler: null,\n    ratioWidth: 1,\n    ratioHeight: 1,\n    canvasSize: {},\n  }),\n  computed: {\n    brushOptions() {\n      let options = {\n        ...brushOption[this.brushWidth],    //笔刷宽度范围\n        minDistance: 5,    //两点间最小距离  影响起笔笔锋  线条顺滑\n        dotSize: 0.1,      //起点大小  影响起笔笔锋\n      };\n      for (let item in options) {\n        options[item] = options[item] / this.ratioWidth;\n      }\n      return options;\n    },\n  },\n  watch: {\n    brushOptions: function (nextOptions) {\n      this.updateOptions(nextOptions);\n    },\n\n    options: {\n      handler(nextOptions) {\n        let options = {};\n        Object.keys(nextOptions)\n          .filter(\n            (key) =>\n              ![\n                \"minWidth\",\n                \"maxWidth\",\n                \"minDistance\",\n                \"dotSize\",\n                \"brushMode\",\n                \"brushWidth\",\n              ].includes(key)\n          )\n          .forEach((option) => {\n            if (this.signature[option]) {\n              options[option] = nextOptions[option];\n            }\n          });\n        this.updateOptions(options);\n      },\n      deep: true,\n    },\n    img: function (img) {\n      this.destoryBoard();\n      img && this.initBoard();\n    },\n  },\n  mounted() {\n    this.resizeHandler = this.resizeHandler.bind(this);\n    this.initBoard();\n  },\n  methods: {\n    async initBoard() {\n      this.canvasSize = await naturalDimensions.handle(this.$refs.bgImg);\n\n      this.$refs.signaturePadCanvas.width = this.canvasSize.w;\n      this.$refs.signaturePadCanvas.height = this.canvasSize.h;\n      this.setBoardSize();\n\n      this.signature = new SignaturePad(this.$refs.signaturePadCanvas, {\n        ...this.options,\n        ...this.brushOptions,\n        boardScale: this.ratioWidth,\n      });\n      window.addEventListener(\"resize\", this.resizeHandler);\n    },\n    resizeHandler() {\n      this.setBoardSize();\n      this.signature.boardScale = this.ratioWidth;\n    },\n    // 设置画板尺寸和图片原始尺寸一致(不同尺寸屏幕下画板尺寸始终一致)\n    setBoardSize() {\n      var canvasBox = this.$refs.signaturePadCanvas.getBoundingClientRect(); //获取canvas元素的边界框\n      this.ratioWidth = this.canvasSize.w / canvasBox.width;\n      this.ratioHeight = this.canvasSize.h / canvasBox.height;\n      //恢复默认缩放比例\n      this.$refs.signaturePadCanvas.getContext(\"2d\").restore();\n      this.$refs.signaturePadCanvas.getContext(\"2d\").save();\n      //设缩放比例\n      this.$refs.signaturePadCanvas\n        .getContext(\"2d\")\n        .scale(this.ratioWidth, this.ratioHeight);\n    },\n\n    destoryBoard() {\n      window.removeEventListener(\"resize\", this.resizeHandler, false);\n    },\n\n    clearBoard() {\n      this.signature.clear();\n    },\n    switchToEraser() {\n      this.signature.switchToEraser();\n    },\n    on() {\n      debugger;\n      this.signature._ctx.globalCompositeOperation = \"source-over\";\n      this.updateOptions(this.brushOptions);\n      this.signature.on();\n    },\n    off() {\n      this.signature._ctx.globalCompositeOperation = \"source-over\";\n      this.updateOptions(this.brushOptions);\n      this.signature.off();\n    },\n    toDataUrl() {\n      const outPutCanvas = cloneCanvas(this.$refs.signaturePadCanvas);\n      outPutCanvas.getContext(\"2d\").globalCompositeOperation =\n        \"destination-over\";\n      outPutCanvas.getContext(\"2d\").drawImage(this.$refs.bgImg, 0, 0);\n      outPutCanvas.getContext(\"2d\").scale(this.ratioWidth, this.ratioHeight);\n      let imageStr = outPutCanvas.toDataURL();\n\n      return imageStr;\n    },\n    updateOptions(options) {\n      Object.keys(options).forEach((option) => {\n        if (this.signature[option]) {\n          this.signature[option] = options[option];\n        }\n      });\n    },\n    toData() {\n      return this.signature.toData();\n    },\n    formData(data){\n          return this.signature.fromData(data);\n    }\n  },\n  render(createElement) {\n    const { customStyle } = this;\n    return createElement(\n      \"div\",\n      {\n        style: {\n          ...customStyle,\n        },\n        attr:{\n          class:'signature-board'\n        }\n      },\n      [\n        createElement(\"canvas\", {\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n          },\n          ref: \"signaturePadCanvas\",\n        }),\n        createElement(\"img\", {\n          style: {\n            width: \"100%\",\n            display: \"block\",\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            zIndex: -1,\n          },\n          attrs: {\n            src: this.img,\n            id: \"bg-img\",\n          },\n          ref: \"bgImg\",\n        }),\n      ]\n    );\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.signature-board {\n  position: relative;\n  top: 0px;\n  left: 0px;\n  width: 100vw;\n  height: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/vueSignature.vue","// sumFunction 插件对应组件的名字\nimport vueSignature from './src/components/vueSignature.vue';\n\n// Vue.js 的插件应当有一个公开方法 install 。第一个参数是 Vue 构造器，第二个参数是一个可选的选项对象\n// 参考：https://cn.vuejs.org/v2/guide/plugins.html#%E5%BC%80%E5%8F%91%E6%8F%92%E4%BB%B6\n// 此处注意，组件需要添加name属性，代表注册的组件名称，也可以修改成其他的\n\nvueSignature.install = Vue => Vue.component(vueSignature.name, vueSignature);//注册组件\n　// 标签的方式引入，留到后面再另开新篇讨论\n  const install = function(Vue, opts = {}) {\n　　　Vue.component(vueSignature.name, vueSignature);\n　}\n/* 支持使用标签的方式引入 Vue是全局变量时，自动install */\nif (typeof window !== 'undefined' && window.Vue) {\n install(window.Vue);\n}\n\nexport default vueSignature;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a820cda\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./vueSignature.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./vueSignature.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./vueSignature.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a820cda\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/vueSignature.vue\n// module id = 2\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a820cda\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./vueSignature.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"f6f1b23e\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7a820cda\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/vueSignature.vue\n// module id = 3\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".signature-board[data-v-7a820cda]{position:relative;top:0;left:0;width:100vw;height:100%}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7a820cda\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/vueSignature.vue\n// module id = 4\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 5\n// module chunks = 0","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = require('./listToStyles')\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader/lib/addStylesClient.js\n// module id = 6\n// module chunks = 0","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader/lib/listToStyles.js\n// module id = 7\n// module chunks = 0","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/component-normalizer.js\n// module id = 8\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/regenerator/index.js\n// module id = 9\n// module chunks = 0","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/regenerator-runtime/runtime-module.js\n// module id = 10\n// module chunks = 0","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/regenerator-runtime/runtime.js\n// module id = 11\n// module chunks = 0","/*!\n * Signature Pad v3.0.0-beta.4 | https://github.com/szimek/signature_pad\n * (c) 2020 Szymon Nowak | Released under the MIT license\n */\n\nclass Point {\n  constructor(x, y, time) {\n    this.x = x;\n    this.y = y;\n    this.time = time || Date.now();\n  }\n  distanceTo(start) {\n    return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n  }\n  equals(other) {\n    return this.x === other.x && this.y === other.y && this.time === other.time;\n  }\n  velocityFrom(start) {\n    return this.time !== start.time\n      ? this.distanceTo(start) / (this.time - start.time)\n      : 0;\n  }\n}\n\nclass Bezier {\n  constructor(startPoint, control2, control1, endPoint, startWidth, endWidth) {\n    this.startPoint = startPoint;\n    this.control2 = control2;\n    this.control1 = control1;\n    this.endPoint = endPoint;\n    this.startWidth = startWidth;\n    this.endWidth = endWidth;\n  }\n  static fromPoints(points, widths) {\n    const c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n    const c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n    return new Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n  }\n  static calculateControlPoints(s1, s2, s3) {\n    const dx1 = s1.x - s2.x;\n    const dy1 = s1.y - s2.y;\n    const dx2 = s2.x - s3.x;\n    const dy2 = s2.y - s3.y;\n    const m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n    const m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n    const l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n    const l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n    const dxm = m1.x - m2.x;\n    const dym = m1.y - m2.y;\n    const k = l2 / (l1 + l2);\n    const cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n    const tx = s2.x - cm.x;\n    const ty = s2.y - cm.y;\n    return {\n      c1: new Point(m1.x + tx, m1.y + ty),\n      c2: new Point(m2.x + tx, m2.y + ty),\n    };\n  }\n  length() {\n    const steps = 10;\n    let length = 0;\n    let px;\n    let py;\n    for (let i = 0; i <= steps; i += 1) {\n      const t = i / steps;\n      const cx = this.point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n      const cy = this.point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n      if (i > 0) {\n        const xdiff = cx - px;\n        const ydiff = cy - py;\n        length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n      }\n      px = cx;\n      py = cy;\n    }\n    return length;\n  }\n  point(t, start, c1, c2, end) {\n    return (start * (1.0 - t) * (1.0 - t) * (1.0 - t))\n      + (3.0 * c1 * (1.0 - t) * (1.0 - t) * t)\n      + (3.0 * c2 * (1.0 - t) * t * t)\n      + (end * t * t * t);\n  }\n}\n\nfunction throttle(fn, wait = 250) {\n  let previous = 0;\n  let timeout = null;\n  let result;\n  let storedContext;\n  let storedArgs;\n  const later = () => {\n    previous = Date.now();\n    timeout = null;\n    result = fn.apply(storedContext, storedArgs);\n    if (!timeout) {\n      storedContext = null;\n      storedArgs = [];\n    }\n  };\n  return function wrapper(...args) {\n    const now = Date.now();\n    const remaining = wait - (now - previous);\n    storedContext = this;\n    storedArgs = args;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = fn.apply(storedContext, storedArgs);\n      if (!timeout) {\n        storedContext = null;\n        storedArgs = [];\n      }\n    }\n    else if (!timeout) {\n      timeout = window.setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n\nclass SignaturePad {\n  constructor(canvas, options = {}) {\n    this.canvas = canvas;\n    this.options = options;\n    this._handleMouseDown = (event) => {\n      console.log('_handleMouseDown',event)\n\n      if (event.which === 1|| !this._pointerId) {\n        this._pointerId=event.pointerId||1\n\n        this._strokeBegin(event);\n      }\n    };\n    this._handleMouseMove = (event) => {\n      console.log('_handleMouseMove',event)\n      event.pointerId==event.pointerId||1\n      if (this._pointerId==event.pointerId) {\n        this._lastTouch = { x: event.clientX, y: event.clientY }\n        this._strokeMoveUpdate(event);\n      }\n    };\n    this._handleMouseUp = (event) => {\n      console.log('_handleMouseUp',event)\n      event.pointerId==event.pointerId||1\n      if (event.which === 1 && this._pointerId==event.pointerId) {\n        if (this._lastTouch.x == event.clientX && this._lastTouch.y == event.clientY) {\n          this._pointerId = null;\n          this._strokeEnd(event);\n        }\n      }\n    };\n    this._handleTouchStart = (event) => {\n\n      event.preventDefault();\n      if (event.targetTouches.length === 1) {\n        this._touchStarted = true;\n        const touch = event.changedTouches[0];\n        this._lastTouch = { x: touch.clientX, y: touch.clientY }\n        this._strokeBegin(touch);\n      }\n      console.log('---_handleTouchStart--', event, this._lastTouch)\n\n    };\n    this._handleTouchMove = (event) => {\n      // console.log('---_handleTouchMove--',event)\n      event.preventDefault();\n      if (this._touchStarted) {\n        const touch = event.targetTouches[0];\n        this._lastTouch = { x: touch.clientX, y: touch.clientY }\n\n        this._strokeMoveUpdate(touch);\n      }\n    };\n    this._handleTouchEnd = (event) => {\n      // console.log('---_handleTouchEnd--', event)\n      const wasCanvasTouched = event.target === this.canvas;\n      if (wasCanvasTouched) {\n        if (this._touchStarted) {\n          event.preventDefault();\n          let touch = event.changedTouches[0];\n          console.log('---_handleTouchEnd--', touch, this._lastTouch)\n          if (this._lastTouch.x == touch.clientX && this._lastTouch.y == touch.clientY) {\n            this._strokeEnd(touch);\n            this._touchStarted = false;\n          }\n        }\n      }\n    };\n    this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n    this.minWidth = options.minWidth || 0.5;\n    this.maxWidth = options.maxWidth || 2.5;\n    this.throttle = ('throttle' in options ? options.throttle : 16);\n    this.minDistance = options.minDistance || 5;\n    this.dotSize =\n      options.dotSize ||\n      function dotSize() {\n        return (this.minWidth + this.maxWidth) / 2;\n      };\n    this.penColor = options.penColor || 'black';\n    this.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n    this.onBegin = options.onBegin;\n    this.onEnd = options.onEnd;\n    this._strokeMoveUpdate = this.throttle > 0 ? throttle(SignaturePad.prototype._strokeUpdate, this.throttle) : SignaturePad.prototype._strokeUpdate, this.throttle;\n    this.lightLimit = options.lightLimit || 0.4\n    this.touchsStrategy = ( ['pressure','mix'].includes(options.touchsStrategy) &&( 'ontouchstart' in window ||'PointerEvent' in window)) ? options.touchsStrategy : 'speed'\n\n    this.boardScale = options.boardScale > 1.5 ? options.boardScale : 1.5\n\n\n    this._ctx = canvas.getContext('2d');\n    this.clear();\n    this.on();\n  }\n  clear() {\n    const { _ctx: ctx, canvas } = this;\n    ctx.fillStyle = this.backgroundColor;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    this._data = [];\n    this._reset();\n    this._isEmpty = true;\n  }\n  fromDataURL(dataUrl, options = {}, callback) {\n    const image = new Image();\n    const ratio = options.ratio || window.devicePixelRatio || 1;\n    const width = options.width || this.canvas.width / ratio;\n    const height = options.height || this.canvas.height / ratio;\n    this._reset();\n    image.onload = () => {\n      this._ctx.drawImage(image, 0, 0, width, height);\n      if (callback) {\n        callback();\n      }\n    };\n    image.onerror = (error) => {\n      if (callback) {\n        callback(error);\n      }\n    };\n    image.src = dataUrl;\n    this._isEmpty = false;\n  }\n  toDataURL(type = 'image/png', encoderOptions) {\n    switch (type) {\n      case 'image/svg+xml':\n        return this._toSVG();\n      default:\n        return this.canvas.toDataURL(type, encoderOptions);\n    }\n  }\n  on() {\n    this.canvas.style.touchAction = 'none';\n    this.canvas.style.msTouchAction = 'none';\n    this._ctx.globalCompositeOperation = \"source-over\";\n    debugger\n    if (window.PointerEvent) {\n      this._handlePointerEvents();\n  } else {\n      this._handleMouseEvents();\n      if ('ontouchstart' in window) {\n          this._handleTouchEvents();\n      }\n  }\n  }\n  off() {\n    this._ctx.globalCompositeOperation = \"source-over\";\n    this.canvas.style.touchAction = 'auto';\n    this.canvas.style.msTouchAction = 'auto';\n    this.canvas.removeEventListener('pointerdown', this._handleMouseDown);\n    this.canvas.removeEventListener('pointermove', this._handleMouseMove);\n    document.removeEventListener('pointerup', this._handleMouseUp);\n    this.canvas.removeEventListener('mousedown', this._handleMouseDown);\n    this.canvas.removeEventListener('mousemove', this._handleMouseMove);\n    document.removeEventListener('mouseup', this._handleMouseUp);\n    this.canvas.removeEventListener('touchstart', this._handleTouchStart);\n    this.canvas.removeEventListener('touchmove', this._handleTouchMove);\n    this.canvas.removeEventListener('touchend', this._handleTouchEnd);\n  }\n  isEmpty() {\n    return this._isEmpty;\n  }\n  fromData(pointGroups) {\n    this.clear();\n    this._fromData(pointGroups, ({ color, curve }) => this._drawCurve({ color, curve }), ({ color, point }) => this._drawDot({ color, point }));\n    this._data = pointGroups;\n    this._isEmpty = false;\n  }\n  toData() {\n    return this._data;\n  }\n  switchToEraser() {\n    this._ctx.globalCompositeOperation = \"destination-out\";\n    this.minWidth = 10;\n    this.maxWidth = 10;\n  }\n  _strokeBegin(event) {\n    const newPointGroup = {\n      color: this.penColor,\n      points: [],\n    };\n    if (typeof this.onBegin === 'function') {\n      this.onBegin(event);\n    }\n    this._data.push(newPointGroup);\n    this._reset();\n    this._strokeUpdate(event);\n    this._isEmpty = false;\n\n  }\n  _strokeUpdate(event, isEnd = false) {\n    // console.log('--_strokeUpdate---',this._data, event)\n\n    if (this._data.length === 0) {\n      this._strokeBegin(event);\n      return;\n    }\n    const x = event.clientX;\n    const y = event.clientY;\n    const pressure =  event.pressure||(event.force)\n    const point = this._createPoint(x, y);\n    const lastPointGroup = this._data[this._data.length - 1];\n    const lastPoints = lastPointGroup.points;\n    const lastPoint = lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n    const isLastPointTooClose = lastPoint\n      ? point.distanceTo(lastPoint) <= this.minDistance\n      : false;\n    const color = lastPointGroup.color;\n    if (!lastPoint || !(lastPoint && isLastPointTooClose) || (isEnd)) {\n      const curve = this._addPoint(point, pressure, isEnd);\n      if (!lastPoint) {\n        this._drawDot({ color, point });\n      }\n      else if (curve) {\n        this._drawCurve({ color, curve });\n      }\n      lastPoints.push({\n        time: point.time,\n        x: point.x,\n        y: point.y,\n      });\n    }\n\n  }\n  _strokeEnd(event) {\n\n    this._strokeUpdate(event, true);\n    if (typeof this.onEnd === 'function') {\n      this.onEnd(event);\n    }\n  }\n  _handlePointerEvents() {\n    this._mouseButtonDown = false;\n    this.canvas.addEventListener('pointerdown', this._handleMouseDown);\n    this.canvas.addEventListener('pointermove', this._handleMouseMove);\n    document.addEventListener('pointerup', this._handleMouseUp);\n  }\n  _handleMouseEvents() {\n    this._mouseButtonDown = false;\n    this.canvas.addEventListener('mousedown', this._handleMouseDown);\n    this.canvas.addEventListener('mousemove', this._handleMouseMove);\n    document.addEventListener('mouseup', this._handleMouseUp);\n  }\n  _handleTouchEvents() {\n    this.canvas.addEventListener('touchstart', this._handleTouchStart);\n    this.canvas.addEventListener('touchmove', this._handleTouchMove);\n    this.canvas.addEventListener('touchend', this._handleTouchEnd);\n  }\n  _reset() {\n    this._lastPoints = [];\n    this._lastVelocity = 0;\n    this._lastWidth = this.dotSize;\n    this._ctx.fillStyle = this.penColor;\n  }\n  _createPoint(x, y) {\n    const rect = this.canvas.getBoundingClientRect();\n    return new Point(x - rect.left, y - rect.top, new Date().getTime());\n  }\n  _addPoint(point, pressure, isEnd = false) {\n    const { _lastPoints } = this;\n    _lastPoints.push(point);\n    if (_lastPoints.length > 2) {\n      if (_lastPoints.length === 3) {\n        _lastPoints.unshift(_lastPoints[0]);\n      }\n      const widths = this._calculateCurveWidths(_lastPoints[1], _lastPoints[2], pressure, isEnd);\n      const curve = Bezier.fromPoints(_lastPoints, widths);\n      _lastPoints.shift();\n      return curve;\n    }\n    return null;\n  }\n  _calculateCurveWidths(startPoint, endPoint, pressure = 0, isEnd = false) {\n    let param = 1\n    pressure = pressure === 0 ? this.lightLimit : pressure/2\n    if (this.touchsStrategy == 'pressure') {\n      pressure = pressure*pressure;\n      param = pressure;\n    } else if(this.touchsStrategy == 'speed'){\n      param = 1 /( (this.velocityFilterWeight *endPoint.velocityFrom(startPoint) +\n        (1 - this.velocityFilterWeight) * this._lastVelocity )+1);\n    }\n    else {\n      pressure = pressure*pressure;\n      param = pressure/( (this.velocityFilterWeight *endPoint.velocityFrom(startPoint) +\n      (1 - this.velocityFilterWeight) * this._lastVelocity )+1) ;\n    }\n    const newWidth = isEnd && this._data[this._data.length - 1].points.length > 5 ? this.minWidth : this._strokeWidth(param);\n    const widths = {\n      end: newWidth,\n      start: this._lastWidth,\n    };\n    this._lastVelocity = param;\n    this._lastWidth = newWidth;\n    return widths;\n  }\n\n  _strokeWidth(param) {\n    return Math.max(this.maxWidth * param, this.minWidth);\n  }\n  _drawCurveSegment(x, y, width) {\n    const ctx = this._ctx;\n    ctx.moveTo(x, y);\n    ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n  }\n  _drawCurve({ color, curve }) {\n    const ctx = this._ctx;\n    const widthDelta = curve.endWidth - curve.startWidth;\n\n    const drawSteps = Math.ceil(curve.length() * this.boardScale * 5);\n    ctx.beginPath();\n    ctx.fillStyle = color;\n    for (let i = 0; i < drawSteps; i += 1) {\n      const t = i / drawSteps;\n      const tt = t * t;\n      const ttt = tt * t;\n      const u = 1 - t;\n      const uu = u * u;\n      const uuu = uu * u;\n      let x = uuu * curve.startPoint.x;\n      x += 3 * uu * t * curve.control1.x;\n      x += 3 * u * tt * curve.control2.x;\n      x += ttt * curve.endPoint.x;\n      let y = uuu * curve.startPoint.y;\n      y += 3 * uu * t * curve.control1.y;\n      y += 3 * u * tt * curve.control2.y;\n      y += ttt * curve.endPoint.y;\n      const width = Math.min(curve.startWidth + t * widthDelta, this.maxWidth);\n      this._drawCurveSegment(x, y, width);\n    }\n    ctx.closePath();\n    ctx.fill();\n  }\n  _drawDot({ color, point, }) {\n    const ctx = this._ctx;\n    const width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n    ctx.beginPath();\n    this._drawCurveSegment(point.x, point.y, width);\n    ctx.closePath();\n    ctx.fillStyle = color;\n    ctx.fill();\n  }\n  _fromData(pointGroups, drawCurve, drawDot) {\n    for (const group of pointGroups) {\n      const { color, points } = group;\n      if (points.length > 1) {\n        for (let j = 0; j < points.length; j += 1) {\n          const basicPoint = points[j];\n          const point = new Point(basicPoint.x, basicPoint.y, basicPoint.time);\n          this.penColor = color;\n          if (j === 0) {\n            this._reset();\n          }\n          const curve = this._addPoint(point);\n          if (curve) {\n            drawCurve({ color, curve });\n          }\n        }\n      }\n      else {\n        this._reset();\n        drawDot({\n          color,\n          point: points[0],\n        });\n      }\n    }\n  }\n  _toSVG() {\n    const pointGroups = this._data;\n    const ratio = Math.max(window.devicePixelRatio || 1, 1);\n    const minX = 0;\n    const minY = 0;\n    const maxX = this.canvas.width / ratio;\n    const maxY = this.canvas.height / ratio;\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.setAttribute('width', this.canvas.width.toString());\n    svg.setAttribute('height', this.canvas.height.toString());\n    this._fromData(pointGroups, ({ color, curve }) => {\n      const path = document.createElement('path');\n      if (!isNaN(curve.control1.x) &&\n        !isNaN(curve.control1.y) &&\n        !isNaN(curve.control2.x) &&\n        !isNaN(curve.control2.y)) {\n        const attr = `M ${curve.startPoint.x.toFixed(3)},${curve.startPoint.y.toFixed(3)} ` +\n          `C ${curve.control1.x.toFixed(3)},${curve.control1.y.toFixed(3)} ` +\n          `${curve.control2.x.toFixed(3)},${curve.control2.y.toFixed(3)} ` +\n          `${curve.endPoint.x.toFixed(3)},${curve.endPoint.y.toFixed(3)}`;\n        path.setAttribute('d', attr);\n        path.setAttribute('stroke-width', (curve.endWidth * 2.25).toFixed(3));\n        path.setAttribute('stroke', color);\n        path.setAttribute('fill', 'none');\n        path.setAttribute('stroke-linecap', 'round');\n        svg.appendChild(path);\n      }\n    }, ({ color, point }) => {\n      const circle = document.createElement('circle');\n      const dotSize = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n      circle.setAttribute('r', dotSize.toString());\n      circle.setAttribute('cx', point.x.toString());\n      circle.setAttribute('cy', point.y.toString());\n      circle.setAttribute('fill', color);\n      svg.appendChild(circle);\n    });\n    const prefix = 'data:image/svg+xml;base64,';\n    const header = '<svg' +\n      ' xmlns=\"http://www.w3.org/2000/svg\"' +\n      ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' +\n      ` viewBox=\"${minX} ${minY} ${maxX} ${maxY}\"` +\n      ` width=\"${maxX}\"` +\n      ` height=\"${maxY}\"` +\n      '>';\n    let body = svg.innerHTML;\n    if (body === undefined) {\n      const dummy = document.createElement('dummy');\n      const nodes = svg.childNodes;\n      dummy.innerHTML = '';\n      for (let i = 0; i < nodes.length; i += 1) {\n        dummy.appendChild(nodes[i].cloneNode(true));\n      }\n      body = dummy.innerHTML;\n    }\n    const footer = '</svg>';\n    const data = header + body + footer;\n    return prefix + btoa(data);\n  }\n}\n\nexport default SignaturePad;\n//# sourceMappingURL=signature_pad.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/signature_pad.js","// 获取图片原始尺寸\r\nexport class naturalDimensions {\r\n\r\n    static getImgNaturalDimensions(imgDom) {\r\n        var nWidth, nHeight;\r\n        if (imgDom.naturalWidth) { // 现代浏览器\r\n            nWidth = imgDom.naturalWidth;\r\n            nHeight = imgDom.naturalHeight;\r\n        } else { // IE6/7/8\r\n            nWidth = imgDom.width;\r\n            nHeight = imgDom.height;\r\n        }\r\n        return { w: nWidth, h: nHeight }\r\n    }\r\n    static handle(imgDom) {\r\n        return new Promise((resolve, reject) => {\r\n            //图片已加载\r\n            if (this.isLoaded(imgDom)) {\r\n                resolve(this.getImgNaturalDimensions(imgDom))\r\n            } else {\r\n                //加载超时\r\n                let timer = setTimeout(() => {\r\n                    imgDom.onload = null\r\n                    reject('img load failed')\r\n                }, 5000)\r\n                imgDom.addEventListener('load',  ()=> {\r\n                    clearTimeout(timer)\r\n                    //加载成功\r\n                    resolve(this.getImgNaturalDimensions(imgDom));\r\n                })\r\n                imgDom.addEventListener('error',  ()=> {\r\n                    clearTimeout(timer)\r\n                    console.error('load image  error:'+imgDom.src)\r\n                    //加载失败\r\n                    resolve({ w: 300, h: 400 });\r\n                })\r\n            }\r\n        })\r\n    }\r\n    static isLoaded(imgDom) {\r\n        return imgDom.complete || imgDom.readyState == 'complete' || imgDom.readyState == 'loaded';\r\n    }\r\n}\r\n\r\nexport function cloneCanvas(oldCanvas) {\r\n    //create a new canvas\r\n    var newCanvas = document.createElement('canvas');\r\n    var context = newCanvas.getContext('2d');\r\n    //set dimensions\r\n    newCanvas.width = oldCanvas.width;\r\n    newCanvas.height = oldCanvas.height;\r\n    //apply the old canvas to the new one\r\n    context.drawImage(oldCanvas, 0, 0);\r\n    //return the new canvas\r\n    return newCanvas;\r\n}\r\n// 笔刷配置\r\nexport const brushOption = {\r\n    1: {\r\n        minWidth: 0.3,\r\n        maxWidth: 1.3,\r\n    },\r\n    2: {\r\n        minWidth: 0.4,\r\n        maxWidth: 2\r\n    },\r\n    3: {\r\n        minWidth: 0.5,\r\n        maxWidth: 2.5\r\n    },\r\n    4: {\r\n        minWidth: 0.5,\r\n        maxWidth: 3\r\n    },\r\n    5: {\r\n        minWidth: 0.6,\r\n        maxWidth: 3.5\r\n    },\r\n    6: {\r\n        minWidth: 0.7,\r\n        maxWidth: 4\r\n    },\r\n    7: {\r\n        minWidth: 0.8,\r\n        maxWidth: 5\r\n    },\r\n    8: {\r\n        minWidth: 0.9,\r\n        maxWidth: 8\r\n    },\r\n    9: {\r\n        minWidth: 0.9,\r\n        maxWidth: 10\r\n    },\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js"],"sourceRoot":""}